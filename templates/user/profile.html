{% extends 'base.html' %} {% block extra_css %} {% endblock %} {% block content
%}
<div class="profile-container">
    <div class="profile-header">
        <h2>Your Profile</h2>
        {% if user.swimrankings_id %}
        <div class="swimrankings-id">
            Your Swimrankings ID: {{ user.swimrankings_id }}
        </div>
        {% endif %}
    </div>

    <fieldset class="profile-section" id="pbs-section">
        <legend>Personal Bests</legend>
        {% if user.added_swimrankings %} {% if pbs %}
        <div class="table-wrapper">
            <table class="personal-bests">
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Course</th>
                        <th>Time</th>
                        <th>Date</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    {% set sorted_pbs = pbs|sort(attribute='date', reverse=True)
                    %} {% for pb in sorted_pbs %} {% if loop.index <= 5 %}
                    <tr>
                        <td>{{ pb.event }}</td>
                        <td>{{ pb.course }}</td>
                        <td>{{ pb.time }}</td>
                        <td>{{ pb.date }}</td>
                        <td>{{ pb.city }}</td>
                    </tr>
                    {% endif %} {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="empty-state">No personal best times available</div>
        {% endif %} {% else %}
        <div class="empty-state">
            <form
                method="POST"
                action="{{ url_for('db_api.find_swimrankings_id') }}"
                enctype="application/x-www-form-urlencoded"
            >
                <div>
                    <label for="firstname">Firstname:</label>
                    <input
                        type="text"
                        id="firstname"
                        name="firstname"
                        required
                    />
                </div>
                <div>
                    <label for="lastname">Lastname:</label>
                    <input type="text" id="lastname" name="lastname" required />
                </div>
                <button type="submit">Submit</button>
            </form>
        </div>
        {% endif %}
    </fieldset>

    <fieldset class="profile-section" id="training-section">
        <legend>Recent Training</legend>
        <div class="empty-state">
            <div class="empty-icon">üèä‚Äç‚ôÇÔ∏è</div>
            No training sessions recorded yet
        </div>
    </fieldset>
</div>
{% endblock %}
